{% extends "base.html" %}

{% block title %}Вход - Мессенджер{% endblock %}

{% block content %}
<div class="auth-wrapper">
    <div class="auth-container">
        <div class="logo">
            <div class="logo-icon">
                <svg width="64" height="64" viewBox="0 0 1024 1024">
                    <use xlink:href="#icon-chat"></use>
                </svg>
            </div>
            <h1>Мессенджер</h1>
        </div>

        {% if error %}
        <div class="error-message">{{ error }}</div>
        {% endif %}

        {% if success %}
        <div class="success-message" style="background:rgba(46,213,115,.15);border:1px solid #2ed573;color:#2ed573;padding:12px 16px;border-radius:10px;margin-bottom:16px;font-size:14px;">
            {{ success }}
        </div>
        {% endif %}

        <form method="POST" action="{{ url_for('login') }}" id="loginForm" novalidate>
            <div class="form-group">
                <label>Email или имя пользователя</label>
                <input type="text" name="username" placeholder="Введите email или username"
                       required maxlength="254" autocomplete="username"
                       value="{{ request.form.username or '' }}">
            </div>

            <div class="form-group">
                <label>Пароль</label>
                <input type="password" name="password" placeholder="Введите пароль"
                       required maxlength="128" autocomplete="current-password">
            </div>

            <button type="submit" class="btn btn-block">Войти</button>
        </form>

        <div class="auth-links" style="margin-top:15px;text-align:center">
            <div style="margin-bottom:10px">
                <a href="{{ url_for('forgot_password') }}" style="color:var(--accent);text-decoration:none;font-size:14px">
                    Забыли пароль?
                </a>
            </div>
            <div class="auth-link">
                Нет аккаунта?
                <a href="{{ url_for('register') }}">Создать аккаунт</a>
            </div>
        </div>
    </div>
</div>
<style>.auth-links a:hover{text-decoration:underline}</style>
{% endblock %}
